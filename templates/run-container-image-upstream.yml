---
meta:
  logstash_image:
    image: cfcommunity/logstash
    tag: latest
  job_templates:
    # run docker daemon
    - {name: docker, release: docker}
    # do not run cfcommunity_logstash_image template that installs embedded docker image
    # run containers (see properties.containers)
    - {name: containers, release: docker}

properties:
  containers:
    - name: logstash
      image: (( meta.logstash_image.image ))
      tag: (( meta.logstash_image.tag ))
      command: ""
      bind_ports:
        - 514:514
        - 9200:9200
        - 9300:9300
      bind_volumes:
        - "/data"
      memory: "1G"
